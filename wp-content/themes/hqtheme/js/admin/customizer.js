var HQThemeOptions = {
    skin_advanced_options: {
        0: {
            //hq_header_topline_height: {hide: true},
        },
        1: {
            //hq_header_topline_height: {show: true},
        }
    },
    hq_branding_colors_main_primary: {
        hqc_other_val: {// Value
            hq_header_background_color: {getvalue: 1},
            hq_typography_headings_color: {getvalue: 1},
            hq_typography_links_color: {getvalue: 1},
        }
    },
    hq_branding_colors_main_secondary: {
        hqc_other_val: {// Value
            hq_header_topline_background_color: {getvalue: 1},
            hq_footer_bottom_background_color: {getvalue: 1},
        }
    },
    hq_branding_colors_sup_primary: {
        hqc_other_val: {// Value
            //hq_typography_body_color: {getvalue: 1},
        }
    },
    hq_branding_colors_sup_secondary: {
        hqc_other_val: {// Value
            //hq_typography_body_color: {getvalue: 1},
        }
    },
    hq_branding_colors_neutral_primary: {
        hqc_other_val: {// Value
            hq_typography_body_color: {getvalue: 1},
        }
    },
    hq_branding_colors_neutral_secondary: {
        hqc_other_val: {// Value
            hq_typography_navigation_color_active: {getvalue: 1},
        }
    },
    hq_branding_fonts_main: {
        hqc_other_val: {// Value
            hq_typography_logo_font: {getvalue: 1},
            hq_typography_headings_font: {getvalue: 1},
        }
    },
    hq_branding_fonts_secondary: {
        hqc_other_val: {// Value
            hq_typography_navigation_font: {getvalue: 1},
            hq_typography_body_font: {getvalue: 1},
            hq_typography_links_font: {getvalue: 1},
        }
    },
    hq_layout_background_color: {
        hqc_other_val: {// Value
            hq_typography_logo_color: {getvalue: 1},
            hq_typography_navigation_color: {getvalue: 1},
        }
    },
    hq_skin: {// Option
        base: {// Value
            skin_advanced_options: {value: '0'},
            hq_branding_fonts_main: {value: 'Roboto'},
            hq_branding_fonts_secondary: {value: 'Open Sans'},
            hq_layout_site_layout: {value: 'full-width'},
            hq_layout_site_max_width: {value: '1200'},
            hq_layout_site_width: {value: '90'},
            hq_layout_sidebar_left: {value: '0'},
            hq_layout_sidebar_right: {value: '0'},
            hq_layout_background_repeat: {value: 'repeat'},
            hq_layout_background_size: {value: 'auto'},
            hq_layout_background_attachment: {value: 'scroll'},
            hq_layout_background_position: {value: 'center top'},
            hq_typography_custom_fonts: {value: '1'},
            hq_typography_custom_font_subsets: {value: '1'},
            hq_typography_custom_font_subset_cyrillic: {value: '0'},
            hq_typography_custom_font_subset_greek: {value: '0'},
            hq_typography_custom_font_subset_vietnamese: {value: '0'},
            hq_typography_logo_size: {value: '24'},
            hq_typography_letter_spacing: {value: '2'},
            hq_typography_logo_weight: {value: '400'},
            hq_typography_logo_italic: {value: '0'},
            hq_typography_headings_weight: {value: '400'},
            hq_typography_headings_decoration: {value: 'none'},
            hq_typography_headings_italic: {value: '0'},
            hq_typography_headings_transform: {value: 'none'},
            hq_typography_navigation_size: {value: '18'},
            hq_typography_navigation_spacing: {value: '2'},
            hq_typography_navigation_weight: {value: '400'},
            hq_typography_navigation_decoration: {value: 'none'},
            hq_typography_navigation_italic: {value: '0'},
            hq_typography_navigation_transform: {value: 'none'},
            hq_typography_body_size: {value: '14'},
            hq_typography_body_spacing: {value: '2'},
            hq_typography_body_weight: {value: '400'},
            hq_typography_body_italic: {value: '0'},
            hq_typography_links_size: {value: '14'},
            hq_typography_links_spacing: {value: '2'},
            hq_typography_links_weight: {value: '400'},
            hq_typography_links_decoration: {value: 'none'},
            hq_typography_links_italic: {value: '0'},
            hq_typography_links_transform: {value: 'none'},
            hq_header_position: {value: 'static-top'},
            hq_header_logo_position: {value: 'left'},
            hq_header_navigation_position: {value: 'right'},
            hq_header_breadcrumb: {value: '1'},
            hq_header_logo_resize: {value: '1'},
            hq_header_logo_resize_width: {value: '250'},
            hq_header_logo_resize_height: {value: '80'},
            hq_footer_widgets_first: {value: '0'},
            hq_footer_widgets_second: {value: '0'},
            hq_footer_widgets_third: {value: '0'},
            hq_footer_widgets_fourth: {value: '0'},
            hq_footer_bottom_display: {value: '1'},
            hq_blog_title: {value: 'Blog'},
            hq_blog_subtitle: {value: ''},
            hq_blog_layout: {value: 'normal'},
            hq_blog_layout_columns: {value: '3'},
            hq_blog_sidebar_left: {value: '0'},
            hq_blog_sidebar_right: {value: '0'},
            hq_blog_pagination_infinite: {value: '0'},
            hq_blog_meta_date_format: {value: 'F jS, Y'},
            hq_blog_excerpt_off: {value: '0'},
            hq_blog_excerpt_length: {value: '55'},
            hq_blog_list_meta: {value: '1'},
            hq_blog_list_meta_author: {value: '1'},
            hq_blog_list_meta_date: {value: '1'},
            hq_blog_list_meta_categories: {value: '1'},
            hq_blog_list_meta_comments: {value: '1'},
            hq_blog_list_meta_tags: {value: '1'},
            hq_blog_list_meta_read_more: {value: '1'},
            hq_blog_single_featured_image: {value: '1'},
            hq_blog_single_title: {value: '1'},
            hq_blog_single_social: {value: '1'},
            hq_blog_single_prev_next: {value: '1'},
            hq_blog_single_meta: {value: '1'},
            hq_blog_single_meta_author: {value: '1'},
            hq_blog_single_meta_date: {value: '1'},
            hq_blog_single_meta_categories: {value: '1'},
            hq_blog_single_meta_comments: {value: '1'},
            hq_blog_single_meta_tags: {value: '1'},
            hq_woocommerce_catalog_mode: {value: '0'},
            hq_woocommerce_hide_price: {value: '1'},
            hq_woocommerce_layout: {value: 'normal'},
            hq_woocommerce_sidebar_left: {value: '0'},
            hq_woocommerce_sidebar_right: {value: '0'},
            hq_woocommerce_pagination: {value: '0'},
            hq_woocommerce_single_title: {value: '1'},
            hq_woocommerce_single_related_products: {value: '1'},
            hq_woocommerce_single_upsells: {value: '1'},
            hq_woocommerce_single_ratings: {value: '1'},
            hq_woocommerce_single_social: {value: '1'},
            hq_woocommerce_single_prev_next: {value: '1'},
            hq_social_links_rss: {value: ''},
            hq_social_links_twitter: {value: ''},
            hq_social_links_facebook: {value: ''},
            hq_social_links_google: {value: ''},
            hq_social_links_instagram: {value: ''},
            hq_social_links_wordpress: {value: ''},
            hq_social_links_youtube: {value: ''},
            hq_social_links_pinterest: {value: ''},
            hq_social_links_github: {value: ''},
            hq_social_links_dribbble: {value: ''},
            hq_social_links_linkedin: {value: ''},
            hq_social_share_twitter: {value: ''},
            hq_social_share_facebook: {value: ''},
            hq_social_share_google: {value: ''},
            hq_social_share_pinterest: {value: ''},
            hq_social_share_linkedin: {value: ''},
            hq_social_share_reddit: {value: ''},
            hq_social_share_email: {value: ''},
            hq_custom_css: {value: ''},
            hq_custom_css_mobile: {value: ''},
        },
        business: {// Value
            skin_advanced_options: {value: '0'},
            hq_branding_fonts_main: {value: 'Droid Serif'},
            hq_branding_fonts_secondary: {value: 'Montserrat'},
            hq_layout_site_layout: {value: 'boxed'},
            hq_layout_site_max_width: {value: '1200'},
            hq_layout_site_width: {value: '90'},
            hq_layout_sidebar_left: {value: '0'},
            hq_layout_sidebar_right: {value: '0'},
            hq_layout_background_repeat: {value: 'repeat'},
            hq_layout_background_size: {value: 'auto'},
            hq_layout_background_attachment: {value: 'scroll'},
            hq_layout_background_position: {value: 'center top'},
            hq_typography_custom_fonts: {value: '1'},
            hq_typography_custom_font_subsets: {value: '1'},
            hq_typography_custom_font_subset_cyrillic: {value: '0'},
            hq_typography_custom_font_subset_greek: {value: '0'},
            hq_typography_custom_font_subset_vietnamese: {value: '0'},
            hq_typography_logo_size: {value: '24'},
            hq_typography_letter_spacing: {value: '2'},
            hq_typography_logo_weight: {value: '400'},
            hq_typography_logo_italic: {value: '0'},
            hq_typography_headings_weight: {value: '400'},
            hq_typography_headings_decoration: {value: 'none'},
            hq_typography_headings_italic: {value: '0'},
            hq_typography_headings_transform: {value: 'none'},
            hq_typography_navigation_size: {value: '18'},
            hq_typography_navigation_spacing: {value: '2'},
            hq_typography_navigation_weight: {value: '400'},
            hq_typography_navigation_decoration: {value: 'none'},
            hq_typography_navigation_italic: {value: '0'},
            hq_typography_navigation_transform: {value: 'none'},
            hq_typography_body_size: {value: '14'},
            hq_typography_body_spacing: {value: '2'},
            hq_typography_body_weight: {value: '400'},
            hq_typography_body_italic: {value: '0'},
            hq_typography_links_size: {value: '14'},
            hq_typography_links_spacing: {value: '2'},
            hq_typography_links_weight: {value: '400'},
            hq_typography_links_decoration: {value: 'none'},
            hq_typography_links_italic: {value: '0'},
            hq_typography_links_transform: {value: 'none'},
            hq_header_position: {value: 'static-top'},
            hq_header_logo_position: {value: 'left'},
            hq_header_navigation_position: {value: 'right'},
            hq_header_breadcrumb: {value: '1'},
            hq_header_topline_display: {value: '1'},
            hq_header_topline_height: {value: '30'},
            hq_header_topline_left: {value: 'none'},
            hq_header_topline_left_text: {value: ''},
            hq_header_topline_center: {value: 'none'},
            hq_header_topline_center_text: {value: ''},
            hq_header_topline_right: {value: 'none'},
            hq_header_topline_right_text: {value: ''},
            hq_header_logo_resize: {value: '1'},
            hq_header_logo_resize_width: {value: '250'},
            hq_header_logo_resize_height: {value: '80'},
            hq_footer_widgets_first: {value: '0'},
            hq_footer_widgets_second: {value: '0'},
            hq_footer_widgets_third: {value: '0'},
            hq_footer_widgets_fourth: {value: '0'},
            hq_footer_bottom_display: {value: '1'},
            hq_footer_bottom_left: {value: 'none'},
            hq_footer_bottom_left_text: {value: ''},
            hq_footer_bottom_center: {value: 'none'},
            hq_footer_bottom_center_text: {value: ''},
            hq_footer_bottom_right: {value: 'none'},
            hq_footer_bottom_right_text: {value: ''},
            hq_blog_title: {value: 'Blog'},
            hq_blog_subtitle: {value: ''},
            hq_blog_layout: {value: 'normal'},
            hq_blog_layout_columns: {value: '3'},
            hq_blog_sidebar_left: {value: '0'},
            hq_blog_sidebar_right: {value: '0'},
            hq_blog_pagination_infinite: {value: '0'},
            hq_blog_meta_date_format: {value: 'F jS, Y'},
            hq_blog_excerpt_off: {value: '0'},
            hq_blog_excerpt_length: {value: '55'},
            hq_blog_list_meta: {value: '1'},
            hq_blog_list_meta_author: {value: '1'},
            hq_blog_list_meta_date: {value: '1'},
            hq_blog_list_meta_categories: {value: '1'},
            hq_blog_list_meta_comments: {value: '1'},
            hq_blog_list_meta_tags: {value: '1'},
            hq_blog_list_meta_read_more: {value: '1'},
            hq_blog_single_featured_image: {value: '1'},
            hq_blog_single_title: {value: '1'},
            hq_blog_single_social: {value: '1'},
            hq_blog_single_prev_next: {value: '1'},
            hq_blog_single_meta: {value: '1'},
            hq_blog_single_meta_author: {value: '1'},
            hq_blog_single_meta_date: {value: '1'},
            hq_blog_single_meta_categories: {value: '1'},
            hq_blog_single_meta_comments: {value: '1'},
            hq_blog_single_meta_tags: {value: '1'},
            hq_woocommerce_catalog_mode: {value: '0'},
            hq_woocommerce_hide_price: {value: '1'},
            hq_woocommerce_layout: {value: 'normal'},
            hq_woocommerce_sidebar_left: {value: '0'},
            hq_woocommerce_sidebar_right: {value: '0'},
            hq_woocommerce_pagination: {value: '0'},
            hq_woocommerce_single_title: {value: '1'},
            hq_woocommerce_single_related_products: {value: '1'},
            hq_woocommerce_single_upsells: {value: '1'},
            hq_woocommerce_single_ratings: {value: '1'},
            hq_woocommerce_single_social: {value: '1'},
            hq_woocommerce_single_prev_next: {value: '1'},
            hq_social_links_rss: {value: ''},
            hq_social_links_twitter: {value: ''},
            hq_social_links_facebook: {value: ''},
            hq_social_links_google: {value: ''},
            hq_social_links_instagram: {value: ''},
            hq_social_links_wordpress: {value: ''},
            hq_social_links_youtube: {value: ''},
            hq_social_links_pinterest: {value: ''},
            hq_social_links_github: {value: ''},
            hq_social_links_dribbble: {value: ''},
            hq_social_links_linkedin: {value: ''},
            hq_social_share_twitter: {value: ''},
            hq_social_share_facebook: {value: ''},
            hq_social_share_google: {value: ''},
            hq_social_share_pinterest: {value: ''},
            hq_social_share_linkedin: {value: ''},
            hq_social_share_reddit: {value: ''},
            hq_social_share_email: {value: ''},
            hq_custom_css: {value: ''},
            hq_custom_css_mobile: {value: ''},
        },
        hqc_other_val: {// Value
            skin_advanced_options: {checked: false},
            hq_woocommerce_catalog_mode: {checked: false},
            hq_layout_site_max_width: {value: 1000},
        }
    },
    // REAL
    hq_header_topline_display: {
        0: {
            hq_header_topline_height: {hide: true},
            hq_header_topline_left: {hide: true},
            hq_header_topline_left_text: {hide: true},
            hq_header_topline_center: {hide: true},
            hq_header_topline_center_text: {hide: true},
            hq_header_topline_right: {hide: true},
            hq_header_topline_right_text: {hide: true},
            hq_header_topline_background_color: {hide: true},
        },
        1: {
            hq_header_topline_height: {show: true},
            hq_header_topline_left: {show: true},
            hq_header_topline_left_text: {show: true},
            hq_header_topline_center: {show: true},
            hq_header_topline_center_text: {show: true},
            hq_header_topline_right: {show: true},
            hq_header_topline_right_text: {show: true},
            hq_header_topline_background_color: {show: true},
        }
    },
    hq_footer_bottom_display: {
        0: {
            hq_footer_bottom_height: {hide: true},
            hq_footer_bottom_left: {hide: true},
            hq_footer_bottom_left_text: {hide: true},
            hq_footer_bottom_center: {hide: true},
            hq_footer_bottom_center_text: {hide: true},
            hq_footer_bottom_right: {hide: true},
            hq_footer_bottom_right_text: {hide: true},
            hq_footer_bottom_background_color: {hide: true},
        },
        1: {
            hq_footer_bottom_height: {show: true},
            hq_footer_bottom_left: {show: true},
            hq_footer_bottom_left_text: {show: true},
            hq_footer_bottom_center: {show: true},
            hq_footer_bottom_center_text: {show: true},
            hq_footer_bottom_right: {show: true},
            hq_footer_bottom_right_text: {show: true},
            hq_footer_bottom_background_color: {show: true},
        }
    },
    hq_header_topline_left: {
        text: {
            hq_header_topline_left_text: {show: true}
        },
        hqc_other_val: {
            hq_header_topline_left_text: {hide: true}
        }
    },
    hq_header_topline_center: {
        text: {
            hq_header_topline_center_text: {show: true}
        },
        hqc_other_val: {
            hq_header_topline_center_text: {hide: true}
        }
    },
    hq_header_topline_right: {
        text: {
            hq_header_topline_right_text: {show: true}
        },
        hqc_other_val: {
            hq_header_topline_right_text: {hide: true}
        }
    },
    hq_blog_layout: {
        normal: {
            hq_blog_layout_columns: {hide: true}
        },
        masonry: {
            hq_blog_layout_columns: {show: true}
        }
    },
    hq_header_logo_resize: {
        0: {
            hq_header_logo_resize_width: {hide: true},
            hq_header_logo_resize_height: {hide: true}
        },
        1: {
            hq_header_logo_resize_width: {show: true},
            hq_header_logo_resize_height: {show: true}
        }
    }
}

jQuery(document).ready(function ($) {
    // Color pickers fire onchange check interval 1 sec
    var color_pickers = [];
    $('.color-picker-hex').each(function () {
        var id = $(this).closest('li').attr('id').replace('customize-control-', '');
        color_pickers[id] = $(this).val();

    });
    var color_pickersInterval = setInterval(function () {
        $('.color-picker-hex').each(function () {
            var id = $(this).closest('li').attr('id').replace('customize-control-', '');
            if (color_pickers[id] != $(this).val()) {
                color_pickers[id] = $(this).val();
                $(this).trigger('change');
            }
        });
    }, 1000);

    // HQ Custom Options 
    $('.hq-custom-options input.option, .hq-custom-options select.option').click(function () {
        return false;
    });
    $('.hq-custom-options input.option, .hq-custom-options select.option').change(function () {
        var val = '';
        $(this).parent().find('input.option, select.option').each(function () {
            console.info($(this).val());
            val += $(this).attr('data-hq-link') + ':' + $(this).val() + ';'
        })
        $(this).parent().parent().parent().find('input.value').val(val);
        $(this).parent().parent().parent().find('input.value').trigger('change');
    });

    // Publish form
    $('.hq-custom-options .value').each(function () {
        var options = $(this).val().split(';');
        var optionElements = $(this).parent();
        $.each(options, function (index, value) {
            var tmp = value.split(':');
            optionElements.find('input.option, select.option').each(function () {
                if ($(this).attr('data-hq-link') == tmp[0]) {
                    $(this).val(tmp[1]);
                }
            });
        })
    });

    // Toggle
    $('.hq-custom-title').click(function () {
        var options = $(this).parent().find('.hq-custom-options-group');
        if (options.hasClass('hidden')) {
            options.removeClass('hidden');
        } else {
            options.addClass('hidden');
        }
    });
    // END HQ Custom Options 

    // Init color pickers
    $('.colorPicker').spectrum({
        showAlpha: true,
        preferredFormat: 'rgb',
        showInput: true,
        move: function (color) {
            $('#result').css('background-color', color.toRgbString());
        }
    });

    $('.customize-control-select select, .customize-control-checkbox input, .color-picker-hex, .colorPicker').each(function () {
        $(this).change(function () {
            var id = $(this).attr('data-customize-setting-link');
            if (id == undefined) { // for color pickers
                var id = $(this).closest('li').attr('id').replace('customize-control-', '');
            }
            if (HQThemeOptions[id] != undefined) {
                var otherOptions = undefined;
                if ($(this).is(':checkbox')) {
                    if ($(this).is(':checked')) {
                        optionVal = 1;
                    } else {
                        optionVal = 0;
                    }
                } else {
                    var optionVal = $(this).val();
                }
                if (HQThemeOptions[id][optionVal] != undefined) {
                    var otherOptions = HQThemeOptions[id][optionVal];
                } else if (HQThemeOptions[id]['hqc_other_val'] != undefined) {
                    var otherOptions = HQThemeOptions[id]['hqc_other_val'];
                }
                if (otherOptions != undefined) {
                    for (var otherOptionKey in otherOptions) {
                        if (otherOptions.hasOwnProperty(otherOptionKey)) {
                            var otherOptionValues = otherOptions[otherOptionKey];
                            if (otherOptionValues.hide != undefined) {
                                $('#customize-control-' + otherOptionKey).hide();
                            }
                            if (otherOptionValues.show != undefined) {
                                $('#customize-control-' + otherOptionKey).show();
                            }
                            if (otherOptionValues.checked != undefined) { // Checkbox value
                                if (otherOptionValues.checked) {
                                    $('#customize-control-' + otherOptionKey + ' input').attr('checked', 'checked');
                                    $('#customize-control-' + otherOptionKey + ' input').val(1);
                                } else {
                                    $('#customize-control-' + otherOptionKey + ' input').removeAttr('checked');
                                    $('#customize-control-' + otherOptionKey + ' input').val(0);
                                }
                                $('#customize-control-' + otherOptionKey + ' input').trigger('change');
                            }
                            if (otherOptionValues.value != undefined) { // text, select - hardcoded value
                                $('#customize-control-' + otherOptionKey + ' input, #customize-control-' + otherOptionKey + ' select').val(otherOptionValues.value);
                                $('#customize-control-' + otherOptionKey + ' input, #customize-control-' + otherOptionKey + ' select').trigger('change');
                            }
                            if (otherOptionValues.getvalue != undefined) { // text, select - dynamic value
                                $('#customize-control-' + otherOptionKey + ' input, #customize-control-' + otherOptionKey + ' select').val(optionVal);
                                $('#customize-control-' + otherOptionKey + ' input, #customize-control-' + otherOptionKey + ' select').trigger('change');
                            }
                        }
                    }
                }
            }
        });
    });

    // Testing
    $('.customize-control-select select, .customize-control-checkbox input, .color-picker-hex').each(function () {
        // $(this).trigger('change');
    });
});